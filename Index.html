<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xadrez PvP - Debug</title>
    <!-- Mantenha seus links de CSS aqui -->
    <style>
        /* Estilo para o bot√£o de debug */
        #debug-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 50%;
            font-size: 20px;
            z-index: 9999;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <!-- Aqui vai o resto do seu HTML normal do jogo... -->

    <!-- Bot√£o de debug flutuante -->
    <button id="debug-btn" title="Abrir Console">üêõ</button>

    <script>
        // Fun√ß√£o que for√ßa a abertura das ferramentas de desenvolvedor
        document.getElementById('debug-btn').addEventListener('click', function() {
            // M√©todo 1: Tenta abrir o console via c√≥digo
            if (window.chrome && chrome.devtools) {
                console.log('Tentando abrir DevTools...');
            }
            
            // M√©todo 2: Mostra todos os erros em um alerta grande
            console.error('=== ERROS DO JOGO ===');
            
            // M√©todo 3: Cria um painel de debug na pr√≥pria tela
            const debugPanel = document.createElement('div');
            debugPanel.id = 'debug-panel';
            debugPanel.style.cssText = `
                position: fixed;
                top: 50px;
                left: 10px;
                right: 10px;
                background: rgba(0,0,0,0.9);
                color: #0f0;
                padding: 15px;
                border-radius: 10px;
                z-index: 10000;
                font-family: monospace;
                max-height: 70vh;
                overflow-y: auto;
            `;
            
            // Coleta informa√ß√µes importantes
            let debugInfo = '<h3>üîç DEBUG DO JOGO</h3>';
            
            // Verifica se arquivos JS carregaram
            debugInfo += '<h4>üì¶ Scripts Carregados:</h4>';
            const scripts = document.querySelectorAll('script[src]');
            scripts.forEach(s => {
                debugInfo += `‚úì ${s.src}<br>`;
            });
            
            // Testa classes principais
            debugInfo += '<h4>üéÆ Classes do Jogo:</h4>';
            const classes = ['ChessRules', 'ChessAI', 'SoundManager', 'ChessGame'];
            classes.forEach(className => {
                const exists = typeof window[className] !== 'undefined';
                debugInfo += `${className}: ${exists ? '‚úÖ CARREGADO' : '‚ùå N√ÉO ENCONTRADO'}<br>`;
            });
            
            // Verifica erros do console
            debugInfo += '<h4>üö® √öltimos Erros:</h4>';
            debugInfo += '<em>Recarregue a p√°gina para ver erros aqui...</em><br>';
            
            // Bot√£o para recarregar
            debugInfo += '<br><button onclick="location.reload()" style="padding: 8px; background: #3498db; color: white; border: none; border-radius: 5px;">üîÑ Recarregar P√°gina</button>';
            debugInfo += ' <button onclick="document.getElementById(\'debug-panel\').remove()" style="padding: 8px; background: #e74c3c; color: white; border: none; border-radius: 5px;">‚ùå Fechar</button>';
            
            debugPanel.innerHTML = debugInfo;
            
            // Remove painel anterior se existir
            const oldPanel = document.getElementById('debug-panel');
            if (oldPanel) oldPanel.remove();
            
            document.body.appendChild(debugPanel);
        });
        
        // Tamb√©m tenta detectar erros automaticamente
        window.onerror = function(msg, url, line) {
            console.error(`ERRO DETECTADO: ${msg} em ${url}:${line}`);
            
            // Mostra alerta se for erro grave
            if (msg.includes('ChessGame') || msg.includes('ChessRules')) {
                const errorDiv = document.createElement('div');
                errorDiv.style.cssText = `
                    position: fixed;
                    top: 10px;
                    left: 10px;
                    right: 10px;
                    background: #c0392b;
                    color: white;
                    padding: 15px;
                    border-radius: 5px;
                    z-index: 9999;
                    font-family: Arial;
                `;
                errorDiv.innerHTML = `
                    <strong>üö® ERRO NO JOGO</strong><br>
                    ${msg}<br>
                    <small>Linha ${line}</small><br>
                    <button onclick="this.parentElement.remove()" style="margin-top: 10px; padding: 5px 10px; background: white; color: #c0392b; border: none; border-radius: 3px;">OK</button>
                `;
                document.body.appendChild(errorDiv);
            }
            return false;
        };
        
        // Inicia debug autom√°tico ap√≥s 3 segundos
        setTimeout(() => {
            console.log('=== AUTO-DEBUG INICIADO ===');
            console.log('URL:', window.location.href);
            console.log('User Agent:', navigator.userAgent);
            console.log('Scripts:', document.scripts.length);
        }, 3000);
    </script>
    
    <!-- Seus scripts normais do jogo -->
    <script src="chess-rules.js"></script>
    <script src="ai-engine.js"></script>
    <script src="sounds.js"></script>
    <script src="game-controller.js"></script>
</body>
</html>
